# 0) Aller au repo + mise à jour
cd ~/notification_manager/campaign
git pull

# 1) Activer le venv
source ~/.venvs/hafas_campaign/bin/activate

# 2) Variables HAFAS (mets tes vraies valeurs)
export HAFAS_BASE_URL="https://cfl.hafas.de/gate"
export HAFAS_AID="ALT2vl7LAFDFu2dz"
export HAFAS_USER_ID="user-22cae79f-0ccc-4959-a4e1-359a7004bb8f"
export HAFAS_CHANNEL_ID="ANDROID-d9e8ac8a-a4a7-4c05-98db-edc648b974fc"

# IMPORTANT: client-id ≠ channel-id (client-id = enum HAFAS)
export HAFAS_CLIENT_ID="HAFAS"

# 3) Dossier de sortie
mkdir -p /sdcard/NOTIF/campaigns

# 4) Créer la souscription
python -m campaign.cli subscribe \
  --scenario ./examples/scenario_example.json \
  --out-root /sdcard/NOTIF/campaigns \
  --base-url "$HAFAS_BASE_URL" \
  --aid "$HAFAS_AID" \
  --user-id "$HAFAS_USER_ID" \
  --channel-id "$HAFAS_CHANNEL_ID" \
  --client-id "$HAFAS_CLIENT_ID"
